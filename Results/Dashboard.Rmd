---
runtime: shiny
---

---
jupyter:
  jupytext:
    text_representation:
      extension: .Rmd
      format_name: rmarkdown
      format_version: '1.2'
      jupytext_version: 1.16.0
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
---

# Menâ€™s Team Evaluation and Results 

```{python}
import seaborn as sns
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np
from ipywidgets import widgets, interact

```

```{python}

# Updated data without brute-force search
data = {
    'Algorithm': ['Tabu Search', 'Tabu Search', 'Randomized Heuristics', 'Randomized Heuristics', 'Variable Neighborhood Search (VNS)', 'Variable Neighborhood Search (VNS)'],
    'IAA/Apparatus': ['IAA', 'Apparatus', 'IAA', 'Apparatus', 'IAA', 'Apparatus'],
    'Selected Athletes': [
        ['khoi young', 'asher hong', 'fred richard', 'yul moldauer'],
        ['fred richard', 'paul juda', 'khoi young', 'brody malone'],
        ['joshua karnes', 'ian lasic-ellis', 'asher hong', 'yul moldauer'],
        ['khoi young', 'paul juda', 'brody malone', 'fuzzy benas'],
        ['fuzzy benas', 'yul moldauer', 'asher hong', 'fred richard'],
        ['shane wiskus', 'khoi young', 'donnell whittenburg', 'brody malone']
    ],
    'Total Score': [260.57900000000006, 253.19598690476192, 254.94, 250.58868690476191, 257.34200000000004, 251.11566666666667]
}

# Create DataFrame
result_df = pd.DataFrame(data)

# Add columns for each athlete
athletes = list(set(athlete for athletes_list in result_df['Selected Athletes'] for athlete in athletes_list))

for athlete in athletes:
    result_df[athlete] = result_df['Selected Athletes'].apply(lambda x: 1 if athlete in x else 0)

# Calculate the sum for each athlete column
athlete_sums = result_df.groupby('Algorithm')[athletes].sum()


```

```{python}
df = result_df[['Algorithm', 'IAA/Apparatus', 'Selected Athletes', 'Total Score']]

column_order = ['Algorithm', 'IAA/Apparatus', 'Total Score', 'Selected Athletes']

# Reorder the columns in the DataFrame
df = df[column_order]
```

```{python}
df=df.sort_values(by='Total Score', ascending=False)
```

```{python}
df1= df.drop(columns=['Selected Athletes'])
```

```{python}

my_palette = {'IAA': 'lightblue', 'Apparatus': 'lightcoral'}

# Bar Plot for Total Score
plt.figure(figsize=(12, 6))
ax = sns.barplot(x='Algorithm', y='Total Score', hue='IAA/Apparatus', data=df, palette=my_palette)
plt.title('Team USA Qualification Total Score for Men\'s Algorithms')
plt.xlabel('Algorithm')
plt.ylabel('Total Score')

# Set y-axis to start at 150
ax.set_ylim(245, 262)

plt.show()

```

```{python}
df=pd.read_csv('../Team_Selection/Competition/Men/men_qual_natiobn.csv')
```

```{python}
import matplotlib.pyplot as plt

highlight_color = 'lightcoral'

df = df.sort_values(by='Score', ascending=False)

# Plotting a bar chart
plt.figure(figsize=(10, 6))

colors = [highlight_color if nation == 'United States' else 'lightblue' for nation in df['Nation']]

plt.bar(df['Nation'], df['Score'], color=colors)

plt.title('Qualification Scores by Nation')
plt.xlabel('Nation')
plt.ylabel('Score')

# Set y-axis to start at 200
plt.ylim(240, 266)

plt.show()

```

```{python}

df=pd.read_csv('../Team_Selection/Competition/Men/men_nation_iaa.csv')
```

```{python}
import pandas as pd
import matplotlib.pyplot as plt

highlight_color = 'lightcoral'

df = df.sort_values(by='Score', ascending=False)

plt.figure(figsize=(8, 6))

colors = [highlight_color if nation == 'USA-walker' or nation == 'USA-Phillips' else 'lightblue' for nation in df['Nation']]

plt.bar(df['Nation'], df['Score'], color=colors)
plt.xlabel('Nation')
plt.ylabel('Score')
plt.title("Men's Top 3 IAA Scores by Nation")
plt.ylim(245, 264)  # Set the y-axis limits

plt.show()

```

# Women

```{python}
df=pd.read_csv('../Team_Selection/Competition/women_qual_nation.csv')

```

```{python}
import matplotlib.pyplot as plt

highlight_color = 'lightcoral'

df = df.sort_values(by='Score', ascending=False)

# Plotting a bar chart
plt.figure(figsize=(10, 6))

colors = [highlight_color if country == 'USA' else 'lightblue' for country in df['Country']]

plt.bar(df['Country'], df['Score'], color=colors)

plt.title('Qualifying Scores by Country')
plt.xlabel('Country')
plt.ylabel('Score')
plt.xticks(rotation=45, ha='right')
plt.tight_layout()
plt.ylim(158, 172)  # Set y-axis limits

plt.show()

```

```{python}
df=pd.read_csv('../Team_Selection/Competition/women_final_nation.csv')
```

```{python}
import matplotlib.pyplot as plt

highlight_color = 'lightcoral'

df = df.sort_values(by='Score', ascending=False)

# Plotting a bar chart
plt.figure(figsize=(10, 6))

colors = [highlight_color if country == 'USA' else 'lightblue' for country in df['Country']]

plt.bar(df['Country'], df['Score'], color=colors)

plt.title('Women\'s Finals Scores by Country')
plt.xlabel('Country')
plt.ylabel('Score')
plt.ylim(157, 171)  # Set y-axis limits

plt.show()

```

```{python}

df=pd.read_csv('../Results/selected_women.csv')
```

```{python}
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

df = df.sort_values(by="Medals", ascending=False)

# Create a stacked bar chart
plt.figure(figsize=(16, 6))

# Plot Medals and Team Appearances as stacked bars
sns.barplot(x="Name", y="Medals", data=df, color="lightcoral", label="Medals")
sns.barplot(x="Name", y="Team_apperances", data=df, color="lightblue", label="Team Appearances", bottom=df["Medals"])

plt.title("Individual Medals and Team Appearances by Athletes")
plt.xlabel("Athlete Name")
plt.ylabel("Count")
plt.legend()
plt.xticks(rotation=45, ha="right")  # Rotate x-axis labels for better readability

plt.show()

```

```{python}
df=pd.read_csv('../Results/women_algos.csv')

```

```{python}
import seaborn as sns
import matplotlib.pyplot as plt


# Set the color for 'IAA' to light blue
my_palette = {"IAA": "lightblue", "Apparatus": "lightcoral"}

# Bar Plot for Total Score
plt.figure(figsize=(16, 6))
ax = sns.barplot(x='Algorithm', y='Total Score', hue='IAA/Apparatus', data=df, palette=my_palette)
plt.title('USA Women\'s Team Qualification Total Score per Algorithms')
plt.xlabel('Algorithm')
plt.ylabel('Total Score')

# Set y-axis to start at 150
ax.set_ylim(164, 171.7)

plt.show()
```

```{python}
df=pd.read_csv('../Results/algos_qual.csv')
```

```{python}
df
```

```{python}
import matplotlib.pyplot as plt
import seaborn as sns

# Assuming 'USA' is the country you want to highlight
highlight_color = 'lightcoral'

# Create a custom color palette
palette = [highlight_color if country == 'USA' else 'lightblue' for country in df['Country'].unique()]

# Sort the DataFrame
df = df.sort_values(by='Score', ascending=False)

# Plotting a horizontal bar chart with Seaborn
plt.figure(figsize=(10, 6))
sns.barplot(x='Score', y='Country', hue='Country', data=df, palette=palette, orient='h', legend=False)

plt.title('Algorithm Qualification Scores by Country')
plt.xlabel('Score')
plt.ylabel('Country')
plt.xlim(158, 170)  # Set x-axis limit starting from 150

# Show plot
plt.tight_layout()
plt.show()

```

```{python}

```
